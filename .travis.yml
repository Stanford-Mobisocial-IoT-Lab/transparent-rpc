branches:
  except:
  - "/^wip/"
language: node_js
node_js:
- '8'
before_install:
- yarn global add greenkeeper-lockfile@1
before_script: greenkeeper-lockfile-update
after_script: greenkeeper-lockfile-upload
script:
- yarn lint
- TZ="America/Los_Angeles" yarn test
after_success: yarn run coverage
notifications:
  slack:
    secure: Bt0e/9tT16VgrmjutvXQ0axkokz+wFeT6iuBDrrOX6rdehRNm/Y+Zebj9/LTDFTnw/Nk2Y9VjHWmtdzc/67P5/B9oCCCeYDYzRs3Li97A0SXMN+UpKDpnvSX9bhQGQNYjsWJ1TvdCOg5kE7Ps5YIMCDUfMomh6Ozlq2ROKso/XzOdXzPH9iGpoyUerHZDigacZZ9s5QBGAEaIf4XThPksAHGOFvK0Wju9wvnO/5Ds8v3968JLQO04lyyGFopezAFAn8IMqgus2Zbi0QA9+ZSW6RJQ5eWOfmfvA8hluRVo6FxQsc0vdSGgbC76LehJDWcSwwoHvvypomR5Jc3MhVezuj8t2g18HN4cJOj80dRcd1dCPVe8Di1fpKMIhqun/q52KJ98vF8tXn9T5DmhsZvfC+2dAVfZrML921XEne1816WtUc0fcwt/qdYDpkTLx1VJNFmNUVv4cfECSrEGC+vdvAz9IYDzp6L1oTm33LA4avvJPikEpIUSgs93s93+G2u/J3NQOEafuVropqgs1jTBM7pCBvSZ+RZ3vK0rFB1DPdjnKOSdiTCSwEmDdw0ceqesaq9G2isGl683T7pAdi1fH1HJfvXpVYtou60MBbIBlmr4oFIFe6TPlYf+OacW90IpwbxMgpOj9wdesTAgymLBnP91cAX2bsh75gussHNNEw=
deploy:
  provider: npm
  email: gcampagn@cs.stanford.edu
  api_key:
    secure: PianJrsSE1iBUc2c89jcTfKeQnX6cqe0OrJiuRNNYTvyLoDdWL+YkP8XZI3FV5DODk4BllaxoQjqH9fo8reDOkGzye2lj/FT9WNRTEN274cbWfq9bQzOVQY+QuCMpIcCo7vqvb4KTX0djsE9U/S7Os+1eVDi+bmYQ5APk2PzGEKr5gi+b4cAMjcKMnFomvc9fHDZNmoapv5cLLtoXRlgd3XcAGgCG7mU881orJe3PZ0T5rn+AczxsSAz42R3wK/fQRn5UunWeYWZsH4EX9jI4QLKHiiYExNqCE0nQh8Cv921htbTIpbgfhUAa0aBSvU8AFY4V9JXuQbZmQTajyNPwFLxSREOPgEh7iM3kEEFtpnGsML2qpDYYjGYPFZV8/bcD6WwMB8n+eZw/P/a5CG+n1YZ2S7cvX+0ea2ueRshfVquDNb72bFIjnYfGSoYpO6wczk8FRc8iCi/Z+1zTvtAplH8wIEAHlV8x+9Au6MHaD44C9CqZmrLQPhUOsb17KLSQhiDrlltlcpro3PqvvceAmQKouMc6q7li8B+gL+0reZYBH9EhIxLlX+nll/o2m9JqExX6Tt3oNQLtDAEu3VQM6kQb5R1ICq6bnCl3tg0rlU4FT4zN07+4M1kAsQcKSanlP5/wql0D/WQ2aJZaCtv1rhYMWjVrM5GErTfR4cjac8=
  on:
    tags: true
    repo: Stanford-Mobisocial-IoT-Lab/transparent-rpc
